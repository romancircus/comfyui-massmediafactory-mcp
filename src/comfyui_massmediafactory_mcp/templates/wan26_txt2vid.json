{
  "_meta": {
    "description": "Wan 2.1 T2V workflow using WanVideoWrapper nodes",
    "model": "Wan 2.1 T2V",
    "type": "txt2vid",
    "parameters": [
      "PROMPT",
      "NEGATIVE",
      "SEED",
      "WIDTH",
      "HEIGHT",
      "FRAMES",
      "STEPS",
      "CFG",
      "SHIFT",
      "FPS"
    ],
    "defaults": {
      "WIDTH": 832,
      "HEIGHT": 480,
      "SEED": 42,
      "FRAMES": 81,
      "STEPS": 30,
      "CFG": 5.0,
      "SHIFT": 5.0,
      "FPS": 16,
      "NEGATIVE": "worst quality, blurry, distorted, low resolution"
    },
    "vram_min": 12,
    "tags": [
      "model:wan",
      "priority:recommended"
    ],
    "version": "2.0.0",
    "notes": "v2: Rewritten from DownloadAndLoadWanModel (non-existent) to WanVideoWrapper nodes (installed). Uses WanVideoEmptyEmbeds for T2V (no image input). Model: Wan2.1-T2V-1.3B (only T2V model currently installed)."
  },
  "1": {
    "class_type": "WanVideoModelLoader",
    "inputs": {
      "model": "Wan2.1-T2V-1.3B/diffusion_pytorch_model.safetensors",
      "base_precision": "bf16",
      "quantization": "disabled",
      "load_device": "offload_device"
    }
  },
  "2": {
    "class_type": "WanVideoVAELoader",
    "inputs": {
      "model_name": "wan_2.1_vae.safetensors",
      "precision": "bf16"
    }
  },
  "3": {
    "class_type": "LoadWanVideoT5TextEncoder",
    "inputs": {
      "model_name": "umt5_xxl_fp16.safetensors",
      "precision": "bf16",
      "load_device": "offload_device"
    }
  },
  "4": {
    "class_type": "WanVideoTextEncode",
    "inputs": {
      "positive_prompt": "{{PROMPT}}",
      "negative_prompt": "{{NEGATIVE}}",
      "t5": ["3", 0],
      "force_offload": true
    }
  },
  "5": {
    "class_type": "WanVideoEmptyEmbeds",
    "inputs": {
      "width": "{{WIDTH}}",
      "height": "{{HEIGHT}}",
      "num_frames": "{{FRAMES}}"
    }
  },
  "6": {
    "class_type": "WanVideoSampler",
    "inputs": {
      "model": ["1", 0],
      "image_embeds": ["5", 0],
      "text_embeds": ["4", 0],
      "steps": "{{STEPS}}",
      "cfg": "{{CFG}}",
      "shift": "{{SHIFT}}",
      "seed": "{{SEED}}",
      "force_offload": true,
      "scheduler": "unipc",
      "riflex_freq_index": 0
    }
  },
  "7": {
    "class_type": "WanVideoDecode",
    "inputs": {
      "vae": ["2", 0],
      "samples": ["6", 0],
      "enable_vae_tiling": false,
      "tile_x": 272,
      "tile_y": 272,
      "tile_stride_x": 144,
      "tile_stride_y": 128
    }
  },
  "8": {
    "class_type": "CreateVideo",
    "inputs": {
      "images": ["7", 0],
      "fps": "{{FPS}}"
    }
  },
  "9": {
    "class_type": "SaveVideo",
    "inputs": {
      "video": ["8", 0],
      "filename_prefix": "wan26_t2v",
      "format": "mp4",
      "codec": "h264"
    }
  }
}
